<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   template="/WEB-INF/templates/default.xhtml">
  
  <ui:define name="sidebar"> 
    <ui:include src="menu.xhtml"/>
  </ui:define>
   
  <ui:define name="content">
    <p>This example demonstrates Seam's authorization features</p>
    
    <h:form id="loginForm" rendered="#{not identity.loggedIn}">
      <h:messages id="messages" globalOnly="true"/>
      
      <div class="loginRow">
        <h:outputLabel for="name" value="Username" styleClass="loginLabel"/>
        <h:inputText id="name" value="#{credentials.username}"/>
      </div>

      <div class="loginRow">
        
      </div>

      <div class="buttons">
        <h:commandButton id="login" value="LOGIN" action="#{identity.login}" styleClass="loginButton"/>
      </div>     
      
      <span>Tip: you can login with a username of <i>demo</i> (no password is required).</span>
       
    </h:form>    
    
    <p>
    
    
    </p>
    
    <h:form>
    
       <div class="buttons">
          <h:commandButton value="Invoke doSomethingRestricted()" action="#{privilegedActions.doSomethingRestricted}"/>
       </div>
       
       <div class="buttons">
          <h:commandButton value="Invoke doFooAbc()" action="#{privilegedActions.doFooAbc}"/>
       </div>
       
       <div class="buttons">
          <h:commandButton value="Invoke doFooDef()" action="#{privilegedActions.doFooDef}"/>
       </div>       
       
       <div class="buttons">
          <h:commandButton value="Invoke doLoggedIn()" action="#{privilegedActions.doLoggedIn}"/>
       </div>
    </h:form>
    
    <br style="clear:both"/>
     
  </ui:define>
</ui:composition>
